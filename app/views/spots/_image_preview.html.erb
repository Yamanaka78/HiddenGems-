<div class="mb-6" data-controller="previews">
  <%= form.label :images, class: "block text-gray-700 font-medium mb-2" %>

  <!-- 隠しファイル入力フィールド -->
  <%= form.file_field :images, multiple: true, accept: ".jpg, .jpeg, .png, .gif",
                      direct_upload: true,
                      data: { previews_target: "input", action: "change->previews#preview", turbo: "false" },
                      class: "hidden", id: "image-upload" %>

  <!-- カメラアイコンボタン -->
  <label for="image-upload" class="cursor-pointer inline-block">
    <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center border border-gray-300 hover:bg-gray-300">
      <i class="fas fa-camera text-gray-600 text-2xl"></i>
    </div>
  </label>

  <!-- 画像選択の案内文 -->
  <p class="text-sm text-gray-500 mt-2">複数の画像を選択できます（最大5枚まで）</p>

  <!-- プレビューエリア -->
  <div id="image-preview" data-previews-target="preview" class="grid grid-cols-3 gap-4 mt-4">
    <!-- 既存の画像がある場合 -->
    <% if spot.images.attached? %>
      <% spot.images.each do |image| %>
        <%= image_tag image, class: "w-32 h-32 object-cover rounded" %>
      <% end %>
    <% end %>
  </div>
</div>
